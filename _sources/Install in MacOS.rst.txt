MacOS Installation
==================

.. warning::

   MacOS support is currently in Beta release

**Install CHIPSEC Dependencies**

Python 3.7 or higher (https://www.python.org/downloads/)

.. note::

   CHIPSEC will be deprecating support for Python2 in June 2020 

Install XCODE from the App Store

Install PIP and setuptools packages. Please see instructions `here <http://docs.python-guide.org/en/latest/starting/install/osx/>`__

Turn the System Integrity Protection (SIP) off. See `Configuring SIP <https://developer.apple.com/library/mac/documentation/Security/Conceptual/System_Integrity_Protection_Guide/ConfiguringSystemIntegrityProtection/ConfiguringSystemIntegrityProtection.html>`__

An alternative to disabling SIP and allowing untrusted/unsigned kexts to load can be enabled by running the following command:

::

   # csrutil enable --without kext

**Building Chipsec**

Clone CHIPSEC Git repository:

::

   # git clone https://github.com/chipsec/chipsec

To install and run CHIPSEC as a package:

::

   # python setup.py install

   # sudo chipsec_main

To use CHIPSEC *in place* without installing it:

::

   # python setup.py build_ext -i

   # sudo python chipsec_main.py

To build chipsec.kext on your own and load please follow the instructions in drivers/osx/README

**CHIPSEC Cleanup**

When done using CHIPSEC, ensure the driver is unloaded and re-enable the System Integrity Protection:

::

   # kextunload -b com.google.chipsec

   # csrutil enable

**Build Errors**

xcodebuild requires xcode error during CHIPSEC install:

::

    # sudo xcode-select -s /Applications/Xcode.app/Contents/Developer
